/* popup

.checkbox-container
  :margin-top 20px
  :text-align left
  
  .checkbox
    :width 0px
    :height 0px
    :opacity 0
    :position absolute
    :display inline-block
    :vertical-align middle
    :margin 5px
    :cursor pointer

  .checkbox-label
    :line-height 12px
    :display inline-block
    :vertical-align middle
    :cursor pointer
    :position relative
    :font
      :size $baseline * 0.7
    :color $grey

  .checkbox
    + .checkbox-label:before
      :content ''
      :background transparent
      :border 1px solid $popup_input_border
      :display inline-block
      :vertical-align middle
      :width 20px
      :height 20px
      :padding 2px
      :margin-right 10px
      :text-align center
    &:checked + .checkbox-label:before
      :content "âœ”"
      :background transparent
      :color #fff
      :font
        :size 12px
    &:focus + .checkbox-label
      :outline 1px solid #ddd

#container-wrapper > .popup
  +fixed
  :z-index 100
  :background $dark_brown
  +scale(0.7)
  +opacity(0)
  :visibility hidden
  +transition(all .5s ease-out)
  +transition-property(opacity, -webkit-transform, transform)
  
  > .close
    :position absolute
    :z-index 1
    :width $baseline * 1.5
    :height $baseline * 1.5
    :top $baseline * 1.5
    :right $baseline * 1.5
    +hover-opacity
    
    > svg
      :width 100%
      :height 100%
      
      path
        :fill $grey

  > h1
    :position absolute
    :width $logo
    :height $baseline * 1.5
    :left 50%
    :top $baseline * 1.5
    :margin
      :left -$logo / 2

    > a
      :display block
      :width 100%
      :height 100%
      +hover-opacity

      > svg
        +inline-block
        :width 100%
        :height 100%

        path
          :fill $grey

        & + span
          :margin
            :top -$baseline * 1.5

      > span
        :width 100%
        :height 100%
        :display block
        :visibility hidden
        +indented
  
  > section
    +absoluted
    :overflow auto
    :overflow overlay
    :-webkit-overflow-scrolling touch
    
    > div
      +absoluted
      :min-height $ninesixty_gutter_width * 52
      
      > section
        :position absolute
        :top 50%
        :left 0
        :width 100%
        :height $baseline * 3
        :margin
          :top -$baseline * 1.5
        :text-align center
        
        > h2
          :font
            :size $baseline * 1.4
          :line-height $baseline * 1.5
          :color $yellow
        
        > p
          :line-height $baseline * 1.5
          :font
            :size $baseline * 1.2
          :color $grey

      > form
        :position absolute
        :top 50%
        :left 50%
        :margin
          :left -$ninesixty_gutter_width * 24.5
          :top -$ninesixty_gutter_width * 26
        :width $ninesixty_gutter_width * 49
        :height $ninesixty_gutter_width * 52
        :padding
          :top $baseline * 3
          :bottom $baseline * 3
        :line-height $baseline
        :text-align center

        > h1
          +grid-container($logo)
          :height $baseline * 1.5

          > a
            :display block
            :width 100%
            :height 100%
            +hover-opacity
  
            > svg
              +inline-block
              :width 100%
              :height 100%
    
              path
                :fill $yellow
    
              & + span
                :margin
                  :top -$baseline * 1.5
  
            > span
              :width 100%
              :height 100%
              :display block
              :visibility hidden
              +indented

          & + *
            :margin
              :top $baseline * 2



        > p
          > a
            +inline-block
            +inverse-hover-underline
  
          & + *
            :margin
              :top $baseline * 2
        

        > .form-container
          :border-left 1px solid $popup_form_container_border
          :border-right 1px solid $popup_form_container_border
          :border-bottom 1px solid $popup_form_container_border
          > .form-header
            :position relative
            > .line
              :border-top 1px solid $popup_form_container_border
              :display inline-block
              :position absolute
            > .left-line
              :width $ninesixty_gutter_width * 2.5
              :left 0
            > .right-line
              :width $ninesixty_gutter_width * 24
              :right 0
          > .input-container:nth-child(8)
            :padding-bottom 2rem
          > .input-container:last-child
            :padding-top 1rem
            :padding-bottom 2rem
            :background-color $dark_orange
            > label
              :color $dark_brown
          > .focused
            label
              :color $dark_orange !important
            > .input
              > input
                :border 1px solid $dark_orange !important
          > .input-container
            :padding
              :left $ninesixty_gutter_width * 3
              :right $ninesixty_gutter_width * 13.8
              :bottom 0.3rem

            > .optional
              :margin-right $baseline
              :margin-top $baseline * 2
              :color $dark_brown
              :position absolute
              :right 0
              :display block
              :height $baseline * 1.5
              :line-height $baseline * 1.5
              :font
                :size $baseline * 0.7
            
            > .logo
              :text-align left
              > .title-container
                :height $baseline * 0.7
                :width $ninesixty_gutter_width * 10
                :display inline-block
                > .title
                  :color $dark_orange
                  :font
                    :family "Lato Light", sans-serif
                    :size $baseline * 0.7
                    :weight bold
                  +inline-block
                  :width 100%
                  :height 100%
                  :margin
                    :left $ninesixty_gutter_width
                    :top -$logo / 10
              > h1
                :display inline-block
                :width $logo
                :height $baseline * 1.5

                > a
                  :display block
                  :width 100%
                  :height 100%

                  > svg
                    +inline-block
                    :width 100%
                    :height 100%
                    :margin
                      :top -$logo / 6

                    path
                      :fill $white

            > label, > p > a
              :cursor pointer
              :display block
              :height $baseline * 1.5
              :line-height $baseline * 1.5
              :font
                :size $baseline * 0.7
              :color $grey
              
            > label
              :text-align left 
              
            > .input
              :position relative
          
              > svg
                :position absolute
                :z-index 2
                :top 0
                :right 0
                :width $baseline * 3
                :height $baseline * 3
                +opacity(0)
                +transition(all .4s ease-out)
                +transition-property(opacity, -webkit-transform, transform)
            
                path
                  :fill $white
                  +transition(fill .4s ease-out)
          
              > input, > textarea
                &::-webkit-input-placeholder, &::-moz-placeholdercolor, &:-moz-placeholder, &:-ms-input-placeholder
                  :color $grey
                  +transition(opacity .4s ease-out)
            
                &:focus
                  &::-webkit-input-placeholder, &::-moz-placeholdercolor, &:-moz-placeholder, &:-ms-input-placeholder
                    +opacity(0)
                    +transition(opacity .4s ease-out)
          
              > input:not([type=submit]), > textarea
                :display block
                :background none
                :color $white
                :width 100%
                :height $baseline * 2.5
                :padding
                  :top $baseline * 0.6
                  :top calc(#{$baseline * 0.6} - 1px)
                  :bottom $baseline * 0.6
                  :bottom calc(#{$baseline * 0.6} - 1px)
                  :left $ninesixty_gutter_width * 2
                  :left calc(#{$ninesixty_gutter_width * 2} - 1px)
                  :right $ninesixty_gutter_width * 2
                  :right calc(#{$ninesixty_gutter_width * 2} - 1px)
                :line-height $baseline * 1.8
                :font
                  :size $baseline * 1.2
                :border 1px solid $popup_input_border
                :text-align left
                +transition(all .4s ease-out)
                +transition-property(border, background, color, opacity)
          
                &[disabled]
                  +opacity(0.5)
              
                  & + svg
                    +opacity(0.5)
            
                &.ng-valid
                  &[disabled] + svg
                    +opacity(0.5)
              
                  & + svg
                    +opacity(1)
      
              > textarea
                :height $baseline * 5.5

              & + *
                :margin
                  :top $baseline / 2
        
              & + footer
                :margin
                  :top $baseline * 2
              
            > section
              :position relative
              
              > input
                :display block
                :cursor pointer
                :height $baseline * 3
                :line-height $baseline
                :color $black
                :font
                  :size $baseline * 1.2
                :padding
                  :top $baseline
                  :bottom $baseline
                  :left $ninesixty_gutter_width * 4
                  :right $ninesixty_gutter_width * 4
                :background $white
                +hover-opacity
                +transition(all .4s ease-out)
                +transition-property(opacity, color)
        
                &[disabled]
                  +opacity(0.5)
                  :cursor default
          
                  &:hover
                    +opacity(0.5)
              
              > input[type=submit]
                :margin-top 1rem
              > svg
                :position absolute
                :z-index -1
                :width 100%
                :height 80%
                :left 0
                :top 10%
                +opacity(0)
                +transition(opacity .4s ease-out)
        
                path
                  :fill $brown
      
              &.busy
                > input
                  :color $white
        
                > svg
                  +opacity(1)
                  :z-index 3
                  +animation(loading 1.5s linear infinite .2s)

    
    &.big > div
      :min-height $ninesixty_gutter_width * 78
      
      > form
        :margin
          :top -$ninesixty_gutter_width * 39
        :height $ninesixty_gutter_width * 78
    
    &.small > div
      :min-height $baseline * 3
  
  &.active
    +scale(1)
    +opacity(1)
    :visibility visible
  
  &.ng-leave
    +opacity(1)
    +scale(1)
    
    &.ng-leave-active
      +opacity(0)
      +scale(0.7)

  &.ng-enter
    +scale(0.7)
    +opacity(0)
  
    &.ng-enter-active
      +opacity(1)
      +scale(1)